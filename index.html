<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Firma de Documento</title>
 <script>
        // Credenciales predefinidas
        const userName = 'USUAPI_163588080';
        const password = '0E2OHqAYnf1Y08f';

        // Configura la URL de la API
        const apiUrl = 'https://certificacion.ecertchile.cl/PortalEmpresas/API/ApiGestor/Login/Authenticate';

        // Datos que se enviarán a la API
        const data = {
            userName: userName,
            password: password
            // Puedes añadir más campos si la API lo requiere
        };

        fetch(apiUrl, {
            method: 'POST', // Dependiendo de la API, puede ser POST, GET u otro método
            headers: {
                'Content-Type': 'application/json'
                // Puedes necesitar configurar más cabeceras aquí según la API
            },
            body: JSON.stringify(data) // Envía los datos como JSON
        })
        .then(response => {
            if (response.ok) {
                return response.json();
            } else {
                throw new Error('Error en la llamada a la API');
            }
        })
        .then(data => {
            // Muestra la respuesta en la página
            document.getElementById('resultadoAPI').innerText = "Respuesta de la API: " + JSON.stringify(data, null, 2);
        })
        .catch(error => {
            document.getElementById('resultadoAPI').innerText = 'Error al llamar a la API: ' + error;
        });
    </script>
    <script>
        function ejecutarProceso()  {
            // Abrir una nueva ventana con la URL deseada
            window.location.href ='https://certificacion.ecertchile.cl/PortalEmpresas/Login/LoginTemporal?token=5caf995f673b6948fff37b98df08fcbbbc0988d5&pin=2764';
            // Puedes ajustar la URL y las dimensiones del pop-up como prefieras
        }
    </script>
</head>
<body>

<!-- Branding en el encabezado -->
<div class="branding">
    <!-- <img src="meta-image(2) (1).png" alt="Logo de la empresa"> -->
    <b>EMPRESA DEMO</b>
</div>

<div class="content">
    <!-- Mostrar el PDF -->
    <embed src="Carta.pdf" type="application/pdf" width="100%" height="500px">
    
    <!-- Botón para ejecutar el proceso -->
    <button onclick="ejecutarProceso()">Firmar documento</button>
</div>

</body>
</html>
